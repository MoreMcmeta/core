/*
 * MoreMcmeta is a Minecraft mod expanding texture animation capabilities.
 * Copyright (C) 2023 soir20
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation version 3 of the License.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 */

package io.github.moremcmeta.moremcmeta.impl.client.texture;

import net.minecraft.client.renderer.texture.MipmapGenerator;
import org.junit.Test;

import java.lang.invoke.MethodHandle;
import java.lang.invoke.MethodHandles;
import java.lang.reflect.Method;

import static org.junit.Assert.*;

/**
 * Tests that the {@link ColorBlender} performs calculations close to Minecraft's {@link MipmapGenerator}.
 * @author soir20
 */
public final class ColorBlenderTest {
    private static final MethodHandle EXPECTED_HANDLE;
    static {
        try {
            Method method = MipmapGenerator.class.getDeclaredMethod(
                    "alphaBlend",
                    int.class, int.class, int.class, int.class, boolean.class
            );

            method.setAccessible(true);
            EXPECTED_HANDLE = MethodHandles.lookup().unreflect(method);
        } catch (NoSuchMethodException | IllegalAccessException err) {
            throw new RuntimeException(err);
        }
    }

    private static final int[] RAND_GROUP_1 = {
            1767640594, 1177013896, 721898013, 450605672, -557109892, -172022466, -2092001461, 208915787, 673006803, -1839062270, -997731251, 796332458, -1242096477, -327745376, -1450384761, 1864744117, 991757825, 296338552, -1012004792, 1012714007,
            1915502090, 1033395399, -1808068065, 203663789, -1297943617, 1749992114, 1063417652, 506000966, 83019418, 35704693, -239742080, 1247880266, -2006215568, -2078881206, -1707600881, 129596629, -1225488350, 1150410983, 830317712, 20630870,
            -1143407788, -1624230439, 828943476, -1023537232, -1414982355, -888470483, 1957769284, 1981430940, -1031021586, 2087701661, -1686412745, 466017068, 844918541, 1790582046, 640398187, 316193459, -1322475080, -11889824, -922462778, 206182666,
            -1359019578, -18810945, 219095442, -1011833206, 291421440, -1368990038, -610865053, -1992877057, -1140260735, -1087453830, 1840975969, -2031450936, 1811755829, -1861276363, -1222762726, 117750046, -1997168956, -1317466995, -363603619, -1987475848,
            -1847741493, 987850927, 1197632495, -1399557574, -1940414062, -1470670534, -1394673407, 150315059, 584194766, 1914267514, -627502755, -1540631501, -1410830087, 1336822557, 696990349, -50941563, 989656789, 680729420, -1523570749, 1758506365,
            541497746, -1496710732, 1938279091, -179414758, 1066580838, -1566538083, -1453214171, -631341963, 449889347, 861242087, -1169792253, -1647916529, 994044176, 1684070180, -36088635, 138560356, 1879609289, 1101417720, 1564778445, -1040117097,
            1299132138, -1949292716, -915168420, 454856813, 1263733248, -923037289, -2028942273, 296866996, 1312517481, 790363793, -1909163994, 1359699838, 1597671895, -1821350317, -1023031318, -1846298137, -992066384, -2127433696, -1486337856, -342456105,
            -1385014372, 155844547, 1922990089, -2057836237, -1275154736, -586010259, 320788044, -1707446029, 1109286017, 460973880, -1343877490, 403269367, 1686148715, -278455429, -1820072972, 641624041, 2088069764, -338807163, -897685589, 2046660909,
            1099862973, -1351234892, -975965316, 362643749, 697449745, 1608439165, 506231085, -1735091358, 2024553185, 1546129208, 1278847890, -1108340546, -1357395698, 374864941, -1438578708, -337178982, 398633211, -2048250069, 1538050320, -1361401951,
            1992766222, -373900842, -1366947995, 4838686, -1227026811, 419683456, -1585135626, 1178478185, 108940933, 603879648, 463333, 974084129, 2116263177, 166793318, -346868756, 795688120, -593868511, -1865973927, -1710969879, 1790165782,
            -1262929180, 109064359, 409117704, -1678563714, 1555627580, -1613478329, 208474185, -1971407194, -565063689, 795605345, 741982414, 2097694037, -139101583, -839035854, 1041265433, -185639568, -107271177, -669521931, -1237778955, -1098284893,
            1005671238, 1013857456, -1779444443, 708030212, 844294763, 796836804, 567684806, -2068955151, -572624531, 270790837, 1652879303, -284998209, 45921240, -1079896905, 332960814, -716662247, 1743930689, -249236059, -2132189777, -138249751,
            2038144816, 344069186, 1169084112, -1337919097, -876180251, -123833723, 881095447, -1747953, -864366437, 2084702119, 1260439301, -638495100, 211440747, 1746080895, 1254786575, 1721231359, -682352438, -1028357230, 1153132933, 1136231400,
            -1404635782, 99861910, -293046571, -984531783, 865014325, -1056137443, 594448117, 884184713, -1098254503, -244380818, -383221838, -1068453013, -1400584071, -102920038, -1151888458, 2112963704, 1095952364, 1452540535, 154089117, 1155233502,
            -1911150336, -1236348340, -1368790146, -1783969348, 1439953599, 810796517, -609585903, 1628100764, 634270864, 1279585630, 956514794, 946143776, -1319777533, 496893446, -2051097029, 1816741899, -1949534516, 111894636, -450939328, -1694605016,
            -1580916574, -2057063341, -1813809717, 1849493326, -1014783306, 363977550, -1903525054, 33043139, 67768599, 1586902054, -440585280, -504903852, 21366090, -914189551, 1951476788, 914322499, -1644945463, 1621389739, 1102731590, -421756162,
            -48459515, -1424050238, 800200135, 2026099309, 786313757, -1677434858, -2140999054, 1979245739, 601613241, 545708723, 1892698877, -1187702571, 1004289355, -1957181795, -328790362, -1779093281, -314525342, -1071867340, 203444237, -1827269581,
            888050126, -359524542, 1928210474, -2071014456, -1330505980, -656871027, 2012777355, -1761797571, 333277971, -61508684, 436543894, -2028310414, 1932576196, 1641222438, 1177580136, -1757017197, 1678827245, -543928597, 786402860, -532872685,
            2016462499, 1865023067, 1670159811, -1575717872, 186674056, 1689297971, 234314511, 1856820595, -1554068125, -1815227541, -1437905400, -508174843, 998630165, 583163512, 2081226810, 914272640, 50926436, 2068232543, -1096949734, -372540683,
            729815533, -396859456, 726709039, 1024857161, -1068401675, 1888279129, 666052587, 1503316367, 774695128, 358122173, -725692239, 1335802445, 1140027585, -1108594897, -1653944132, 970713727, 177188138, -1872737771, -791846105, -1247043107,
            -2050798309, -234235471, -651400179, 1066864037, 1187327750, 657680106, 1300229522, -1073761971, -663661189, 2019681144, -503864587, 1360716947, 1144628699, 546929950, -699072023, 800018030, -1882673677, -2135356720, 1324056771, -1353259018,
            259206134, -903885050, 1614586004, 1920070623, -1460214712, -60654230, 1267727079, 1163563752, -132662406, -769962812, 1610651509, -832378833, -759633342, 1687383211, -1392149807, -314634567, -1442355379, 425112228, 218434402, 2111795375,
            -516493542, 2067297801, 702088878, -1328306970, 1625600022, 1799327658, -1117829802, 1094899804, 1014333532, -1223836140, 1204731997, 163107487, 66651767, 1056013115, 320896670, 25986567, 627267811, 84394831, 1113559523, 1448452554,
            -2141022926, 317502150, 1678896726, -620862624, -1780707944, 2102505297, 633301361, -1759935105, 691608801, -490520556, 1173813613, -1967703458, -1009151439, 853566164, -1416150015, -1569161147, 748183861, 1731498299, -465012042, -860101739,
            -2042627808, 587908788, 2118525387, 1677020127, -2097789598, -708999199, 243562183, -1109380624, 1365971141, -47129863, 1946261410, -1786194763, -1539935915, -1932566795, -1000505519, -833696502, 1984196102, 967299172, -1217865998, 1203677042,
            -2021115196, -2020929360, -2128504112, 63800423, -892589946, 1363881384, -1713554504, 623420566, -1816528666, 1225893919, -1412265987, 1563923133, 907080761, 1727728411, -2059121557, -1928711597, 1985994474, -836668338, -1500807154, 414587232,
            224234583, 1526757560, -1985117111, 774193385, 1459970405, 1293668068, -1047022015, -1336930675, -1964893103, 1928836158, -1714276667, 1132005531, -1095141077, -632140989, -1202094954, -685506268, 359884283, 2084375631, 1978995775, 1285383260,
            1115902651, -1177274284, -1690352796, 1590809162, 560746982, -1351618289, 1792019166, 1962378679, -1778338819, 1539924799, 186928250, -724737013, 231976441, -1426031996, 1440440710, -1489019065, 266864960, 2022401953, -1781746145, -289935378,
            -194884891, 1823436926, 1245023081, -1280165509, 1616648206, -1488106005, -738238025, 346562108, -296610240, 1136662910, -1547294424, -727276380, -135749239, -351194999, -1848976719, -241619095, -564497234, 194402423, 36206750, 1587635022,
            620899294, -150810761, 814433568, -1939948126, 424778905, 18866291, 1290851635, 984223879, -1387147344, -472576024, 1152493665, -1218235931, -1312020453, -2131107320, 4533320, -695998643, -286213595, -1214814089, 596257067, 179512241,
            -195202821, 366907101, -1270314733, -1485185389, 1041827555, -1436645448, -773479074, 193739124, 376584800, 1326173723, 1915113215, -585086235, -1739056179, -394933434, 1756488135, -719264624, 136135669, 1852498519, 422580037, -988797190,
            1262998991, -97011625, -1694237236, -1709984016, 364574100, -1252754241, 411708723, 1490902949, -566857475, -1226903672, 1546602667, -1265762457, -2136826329, -1921735539, 467756446, -383238163, -253154004, -282606256, 1614313360, -1086434684,
            879798772, 2095079941, -897663254, -2083801673, 2102529146, 584602990, 515499012, -566662558, 871602462, -1649066641, -1125890319, -861794791, 266231633, 2027843407, 1336473668, 381542640, 114854713, -1759975688, 955365027, 1351006741,
            -779779517, 1562964166, 800451076, -1549290679, 2029414380, 2105425547, -2063517969, -273512989, -1239611069, 1322551971, -1984598610, 1311170747, 1938674407, 976721275, 1848839959, -1976740260, 1515596928, -371861760, 1286570193, 1853342774,
            975276722, 1019523648, 1477309558, 157926310, -1213007639, 2008394784, 1567130327, -1202988230, 261662066, 700774955, 1527650202, -1197577034, -460046711, 953395922, -1252930390, 1778515631, 504629472, -493300225, 842788038, 1195826426,
            1063708648, -1073769387, -1413089374, 443825813, -217533196, -1564000655, -349792650, 858818918, 84800532, -591114677, 1151379663, -1579017337, 1154417932, -1236964572, -1458543910, -672756520, 2003457002, 1324677309, -1934095278, 1907356382,
            -444000268, -2120548628, 130237324, 1192398581, 1597745155, 1652124282, 255113948, -2064233164, 957565777, 1910022949, 1934529114, 128301306, 702857678, -126491638, -351972860, 241733760, 1346411321, -541652657, 1874278682, -575451325,
            -209092634, 979071802, 53494752, 940786628, -704802500, -845717720, 444804155, -1964392386, -700020510, 1514118046, -647638807, 1497787721, 1425843976, -724046019, -141434691, 746905749, -936530223, 174283000, 1774912589, 1744173711,
            461592293, -1173863532, 225133421, -1744974128, 457910071, 1064850316, -1901057645, 1562468248, 328421445, -913149157, 1082821837, 634317344, 1988753353, -1095959280, 123031179, -1182788217, -1566686744, 2013021587, -472103314, 1365533931,
            -20603420, -1728933227, -1097417251, -302003475, -1503886350, 429451433, -1449058493, -1235750366, -1675428395, -805698154, -122405274, -25897307, -2092762295, 815964080, -473036079, -1340358137, -825488286, 567410854, 639763184, -304814287,
            2146053938, -1793484644, 159897212, -473229905, -123470503, 1995194792, -1296406177, -1000733537, 538892307, -1129299603, 426561302, -1240438978, 168497848, -1816061423, -1547486390, -1206935140, -2047958629, 1911837403, 2164745, -855727078,
            974123502, -575548823, 1402338760, 1868932842, 2061110121, 1509755847, -1275705948, 1513139550, 1593367456, -989376585, 1531574038, -283640464, 852514410, -836992285, -798074105, -671528477, 1087376801, 1000126641, -1800144289, 821985427,
            2135310254, 1861386359, 180752740, -49858155, 42103963, -132603146, 1856873904, -215168806, -1642105516, 573019652, -1722151665, 1136708684, -124744756, -1729399719, -533127350, 903541752, -2040643276, 1979149939, 223912018, 2079229249,
            -50742413, -1406565948, 301387673, -783752353, -865542182, -734725163, 1581550618, 1452629844, 254934604, 1306358038, -2099562366, -6337857, -793196405, 1840283735, 436767517, -1625425643, 1758177920, 1486543034, -1466694147, -50790292,
            -1342340177, -1231784982, -1133153004, -601170505, -1136701905, 1112620191, -127234844, 447346166, -954103921, -272371955, 1795933369, -27571755, -22192375, 2062019604, 2123267195, 989151939, 1454965591, 1645546564, 602400928, 951985801,
            -1590223446, 1129894129, 2055733910, -1118422201, -1670620064, 1230441786, -829392834, -1483341348, -1129566619, 774756592, -1004151339, 1607321060, -356257766, -1872135458, 267741985, -2011821371, 938486249, -42410662, 1477235300, -38867509,
            -659645634, -150542640, 1367089889, 834487395, 90490197, -189025869, -1334852768, 1908966359, -1923091866, 715748461, -320645258, 1368650761, -1437597123, -1503774995, 1205882830, -246463227, -2036177699, 346681134, -2119775946, -65223956,
            -2044289227, 535774864, 1940364401, -1267670591, -1484701390, 299223417, 1847754769, 179831681, 1692354504, -1956669573, -1424061933, -1699261199, -1260985161, 1015631842, -491280110, 810901258, 2031951710, 585080196, -948134486, 1202948069,
            525784673, -1315854273, 1573198080, 1100983223, -559625577, -211289156, -1670439618, 71654950, -870680855, -990411685, 1612460959, 246289769, 1900589743, 1332988212, -538688008, 914613735, -744884467, 897736777, -736769874, -637200958,
            798287346, 1593551985, 1816386612, 553842038, -1479820388, -1150729205, 581032979, 230725224, 68588311, 625378159, -1038602807, 182555607, 752546992, 1977420688, 605406739, -1592313002, 1006752112, 688657674, -644711814, -1517329303
    };

    private static final int[] RAND_GROUP_2 = {
            475725420, -308177913, -208749005, 1766403611, -644586629, 2133717276, 879284089, 844147980, -255762061, -2056865901, 1253195965, -1587754474, 804923020, -1151369055, -1153500647, -784997285, 737375128, 2144753380, 361451634, 1072089083,
            90845271, -1001488570, 113300129, -310840846, 683359799, -39546178, 175753849, -277992616, -1795384431, -1172399780, 457181965, -629423072, 910404675, -18820124, 515299700, 1067522845, -77521287, -1879908491, 1093703848, 466117424,
            387925291, -509772841, 755715846, 1353902657, 168247543, 1699537509, 319182621, 1158294749, 1764223347, -588646360, -2022438408, -1633455121, -148079055, 611354834, -823719360, -883576383, 2041180287, 677595183, 5889448, 1690936285,
            -867993930, 654978856, 1030870105, 1072359738, -599366933, -192767743, 1364924477, 2035908737, 1454214313, 566616118, -931113617, -858476288, -270582130, 623804210, 971434843, -528367413, -511139610, -4972905, 692785536, 950836970,
            1374229542, 2049076725, 1587196783, 1327060317, -1695643988, 1403295429, 940554666, 1861295774, 1985627052, -1003924694, 1155077328, 109442146, -1898317801, 1677901930, 1846058236, 1670384553, -1970325036, 634053279, -1878484902, 352362549,
            906402853, -923180616, -169159100, 1313681591, -1148410810, -2044850980, 251967956, -665441885, -738109874, -1633274600, 1495142876, -1807230209, 1681885115, -40735258, 1336702206, -2140201900, 692732112, 964712163, 1406864258, -1348696748,
            2032337533, -17059147, 1579247366, -1611688780, 632142535, 390997825, 627604592, 1917363436, -561554420, 1469336384, 1437690484, -1805625652, 1113853397, -332496002, 104295919, 876068006, 1331207475, -89580008, 237227917, 152290184,
            1343247402, 1143495851, -518694498, 941620717, 805606718, -1368118406, 1003850136, 191640111, -2125438892, -885251236, 1934516206, -1071171460, -1089700658, -798004675, 952011895, -576070450, 57242261, -2075907211, -691947459, -646345053,
            2022042848, -530623952, -1085718463, 1620884674, -192921468, 122060442, -91017005, -1507948778, 193266252, -1927805678, 457105908, 1215498820, -1745749722, -961008183, -2010036346, 2145017784, -1140505332, -387752760, -1822888909, 1514941602,
            -1874548246, 1870614349, -682887230, 1009861447, 1144430275, -726174997, 1860386562, 866872339, -767744772, 1256097917, 102624603, 1339288665, -1895853594, -1507167777, -349660057, -2027888322, -1679706093, -1891652033, -723657794, -971320307,
            463565326, 720501782, 883676475, 1937494763, 1973839340, -1215135695, 210072441, 1177682316, -337068722, 675030668, 2079793063, 1515829841, 1322481673, 699106841, -1341840572, -555911644, 1257353, -1263334461, -472215983, -901272405,
            901916431, 758315184, 1874665988, -1169892508, 1472868278, -1070965457, -667139757, 1236359211, -804814936, 552423712, 1396776730, -1629987930, 694589697, -1098414810, -1615082609, -602047619, -1155451049, 1414198425, -1098111603, -432955392,
            -1150488053, 2071991505, -1435383825, 308682927, 1540390860, -359154326, -306505965, -187173998, 600783001, 1427225605, -1057784764, 1252469667, -748847997, 1670668473, 1790106170, -1370117872, -1787800049, -176947549, 2068738251, 728717858,
            147782289, 1130054725, 860430102, 1237654865, 1605391576, -2086806853, -448779, 2110811097, 2023149383, 1745827473, -1646547, -2025871610, 1442301453, -1773457140, 1207096907, 543485564, 1774195865, 768932134, -907104447, 1969854511,
            -1456499987, -1634831689, -378837041, -1039423435, 1662785392, -1550276531, 2058986937, -1684686199, 378935390, -2038387583, -385496103, 1231450887, 966943730, -1439201390, -1656801785, -687459603, 755916697, -2119730325, -2016385169, 861555524,
            -1438841985, -797271870, 1983405702, 574219468, 2014183482, -684815402, -781218745, 1316603997, -1002317999, 2095420711, 1161770554, -1745886558, -1127433523, -1227467860, -1993148344, 1943742777, 1294438301, -649158619, 211319681, 200890042,
            901702199, -576253043, -338438489, 1360812656, -1766086908, -1250481258, -2094925877, 31082432, -590967897, -448466062, -1786682902, -512753948, -392299800, -1683139539, 26666064, -997013899, -148152092, -2057034471, -410561492, 822663100,
            1309735281, 183549888, 736041522, -151627720, 955791724, 1214239580, 2137159116, -661415046, 577386896, 1834934701, 778723915, 203929839, 1970494410, 671517960, 211872789, -51954954, 1323466507, 148368775, 411676970, -833727411,
            -1428789577, -594083193, 1994761442, -1100926466, 1216183693, -1128281656, 571882913, 543982221, 1590770512, 25218133, -1118380397, 1751711223, -557765448, -1124650859, 1239478745, -1750623781, 690850698, 1117021297, -213977056, 625638828,
            1759049427, -933984295, 1489843604, 1153062515, -1893510255, 1232844138, 36260716, -840566807, -2051273796, 329712945, -19847728, -997902708, 1082449953, -434685949, -1031602928, 1529131339, -717339375, -401127264, -861547851, -261497603,
            -487561596, 1493855182, 1542471672, -680106053, -686570874, -1571904935, 1759290604, -185821234, -943908036, 1232480748, -1878607985, -3837334, -826263298, 1128250907, -1435282928, 1961033767, -729174164, -1039997633, -857302876, 1040448462,
            2136099618, 100758686, 1263782420, -1569576119, 270297164, -1840642604, 134946139, 2007770109, -24966997, 1166779299, 826171998, 508832177, -577348191, -2146827497, -861477598, -1956307200, 1817581581, -1980830122, 1869364533, 1723290983,
            1690237198, -1281166338, -432131878, -1153952390, 2016653547, 1991458314, 1044397433, 427868474, 452524286, 1568041021, -809425400, 1281481008, -2073130583, -643275727, 189294566, -851643909, -1266493455, -272491649, 391921519, -1071774855,
            882045823, 1846760944, 1003463950, -1351027864, -1879780992, -1406331926, -438413617, 1709356908, -1695110915, -314847818, -1131293605, -939294139, -1531389585, -1653593764, 382037421, -1884582769, -1825150294, 1467234940, -1544939956, 1144651415,
            1950127067, 263522363, 95959030, 1656332581, -245465544, -1201166611, 291613563, 128511438, -619597188, 1740540193, 891788481, 830045386, 2082871098, 1189148450, 303359339, -1551734476, -1524437345, 649005460, -2049919799, -1390281808,
            2103234875, -1933734912, -621859531, 1239614708, 147602077, -1916197311, 1409146713, 695063953, 996065182, -2061482395, 231711787, -1301489026, 692949074, 762418382, 1497305305, -576274601, 638287511, 446671896, -1623162886, 616436643,
            -1370682275, -1002095088, 1331406648, 839053752, -1599672966, 434789313, -1859089785, -740363415, -2019739508, 981025801, 534698487, -1772770009, -276954751, -2016223718, 2102626956, -315999469, 1040853164, 1497004653, -1432425535, 1882329236,
            -260661941, -1510063684, -1598806145, 1876424735, 1684006697, -482751104, -978770918, 1563527513, -1225140405, -1999105603, 212541204, 479342432, 2137262311, 733853471, -1201936441, -1663620940, 1361173469, 596746878, -623848110, 1907255044,
            281573539, 968785030, 532130785, -600253174, -881818331, 261797231, -452793281, -1374963658, -898889473, 496419158, -1443546825, 1802159132, 334665400, -66883493, 796585628, 1335587770, 769462788, 578354414, -699601479, 1699426719,
            -1571189907, 1618234678, 576257763, 1243696400, -1815226509, 409708854, 1622830945, -1398054095, -1883614859, -170832168, -531111409, 1194259436, -1515769227, -35153187, 175620714, 879795513, -189809582, 1420537332, -1462378936, 1877094154,
            -1356706100, 61860797, 1062484035, 614097832, -1820589004, 221520358, -455184171, 505970003, -1474524988, -103493700, 1038179464, 1462015543, -808576970, 221621747, 1506149600, 490442133, -1027419239, 2007307696, -484967411, 113946369,
            -777898900, -910902816, -245557402, -64166719, 679152018, 1469443684, 1364370382, 1359796029, -84539160, -1238434665, 1303037919, 150465633, 436811339, 637168479, -742786351, 1162873255, -802290312, -1258400267, 690253493, 1085912168,
            1810831327, 619858233, 1181706259, 1987935508, 350305406, -2078622954, -385335491, 897413925, -1068509906, -1899074607, -460156594, 949406318, 469276477, -1307335063, -1286277041, 1796456227, -656852991, 287280028, -1565974433, -950350830,
            -330995430, 1885689624, 1863074335, -930085109, -205134072, -768344488, 924875825, -394248305, -1725723589, -1067246439, -724837736, -1675592297, 971712358, 142680818, -1400851488, -692645421, 609897359, 353566798, -1368522799, 311637460,
            -1305462370, 1000885214, 1418107575, -100157228, 1185829325, 742483801, -24555721, -1446598643, -636750466, -898454656, 497096187, -1795294396, -1774898914, 963038298, -1401442111, -877148985, 159211956, -1003346454, -1007890039, -149334205,
            -85169851, -220005966, 1800234570, -1002725449, 1373492610, 1352167816, -559069139, -1794947575, -1016073886, -1023942168, -85483670, 699065131, -1453995555, -1003368676, -1442842055, -1691153074, 1017810265, -1721620095, 905616935, 992688789,
            -1188254312, -156209257, -488570462, -996217284, 492680004, 584783956, 1797991136, 2134283854, -1926341372, 353581532, 704327913, -219516334, -275725993, 1085048511, -2001169683, 1498601786, 1713290752, 1926581703, -1015103033, 1038327297,
            -1635956556, -1770558720, 1930093139, 2029561661, 238971589, -1133290024, 802558192, 593633343, -1622300517, 1203552636, -1669317808, -1814236497, -412213155, 1450097895, 1081598478, -1272594727, 1191748481, 1791937611, -597730510, 1308311629,
            -1540944663, -549714128, 305262406, -1402930042, -1550249607, -932796841, 71717422, 1013238025, -1326291825, 1750249597, -1118092522, 474032222, -1009986774, 1459222170, -472326819, -2097021102, -455566579, 926178909, -245470287, 145916326,
            -730404787, -1071451784, -1044653512, 1311445551, -1860961356, -1337962332, -997972721, 1615693602, 1685058349, -1015202819, 1088831213, -2144697782, -1499904621, -1038403315, -316684597, -2119075808, -1476732658, 98115500, 521746142, 2043435729,
            -1731379156, 1465733416, -1021653655, 356838775, -1717097425, 794086088, 974508764, 532761564, 925183071, 774835662, 2055797889, 2061186053, 959904334, 223140620, -1271625472, 732653130, 1893810764, 620486928, -1079637075, -1324743061,
            1084954710, 68860250, 1290563308, 67159634, -1045324172, -1618758558, -699446514, 755199678, -561748004, 533756516, 864723131, -1436910550, -993901338, 1615866487, -474136391, -974667220, 1003192545, 868956210, 970253880, 1129196247,
            -1703617021, 907232238, -1449368233, 2061871836, -704921833, 732256984, 346511370, -2006028859, -1299626295, 1876195179, 1256943598, -913962136, -318598651, -1647042502, -547640504, -66990779, 745861526, -182036780, 686126907, 2058374435,
            -962877978, -11614701, 1280638010, 1611956735, -1182538688, -371644159, 28630554, -406255660, 1277774010, -807417250, -1959560199, -1266190469, -214101425, -792036944, -365208219, -1383320439, -1438334074, -582260127, 1896392991, -1910089512,
            1077805877, -63359504, 765258075, -445852468, -1502383084, -1177796267, -1774136408, -1746234655, 752395594, -1431532982, 777243933, 1690992709, 1198238990, 359731507, -1424780611, -1010748635, -568572709, -1758665800, -1979862321, 588209141,
            -717617934, -346521128, -1144124317, 320474876, 1269409861, 1185940100, 1830284990, 1534022590, 1932768650, 1520624951, -1224290334, 700761883, 592346353, 1997867918, -1734194513, 1540680948, -576507063, -1496798563, -708762184, -1389966722,
            1213444632, 2127880782, 1180193534, -1667737619, 728547186, -258920407, 134817370, 1752568472, 1680632230, 338577212, 1941442758, 566618035, 1468997861, -523467291, 927418603, -2128052881, 1361886745, -1549567061, -1658631719, -669115800,
            1724194311, -718974208, -727450121, -1065904885, 1096075738, 97253927, 588442227, 1289134001, 440379109, -1140187812, -1379817535, -1688542495, 172124912, -445578332, 1380920703, -1080281881, -716623275, 474325189, -1800944383, 2120333828,
            1333434221, 2001938374, 1773012377, 1144713724, 929168238, -134515229, -544482512, 72990461, -1654940875, -579226215, 922936889, -147232880, 1278862882, 39490178, 2045623629, 1561143291, 736579993, 264900373, 505172265, 392899133,
            -1374624593, 1637280239, -668680222, -1488467420, -1651777639, 400474929, -458176042, -584148135, 659519654, -1390963055, 500739428, 1165384438, 1147917547, -1567213417, -1985428039, 831706183, -52308842, -1994606230, -2097556960, 719265361
    };

    private static final int[] RAND_GROUP_3 = {
            1439951256, 18606211, -1931628983, -1010706900, 246003348, 177625334, 2028550765, -2052501333, -99899325, -1715718833, -2044843538, 2090255483, 874307198, -1205152627, -902920188, 110004205, 190866554, 1706880389, 1536281859, 1133127556,
            562645635, -735905677, -926176555, 782914107, 1445950216, 1014026621, 639626738, 691186712, -1756981780, 1213742018, 49872341, -2124527959, 1645410859, 969892623, -37035624, 1615703582, 558705370, -100474104, 1522430590, -1090166248,
            573676408, -302924739, 1809783304, 508564610, 849832708, 320675403, -1860511867, -1215552078, -190786980, 117156186, -1330660879, -1023300862, 2033240593, -257218904, -1341318393, -1329586040, 410824848, -216067106, 844234635, 1283203626,
            -904692053, -1195905101, -1424365352, -1027320363, 553403646, -1543888881, -463473440, 1179596698, -2031823630, 582699357, 1369688122, 1762319253, 1629926221, -1728784256, -2058987641, -1149707546, -1819450391, 1570676184, -2001985351, 2075207308,
            1124848176, -6648085, 1584837790, -1778077018, 922496516, -772028116, 1636149218, -1836552365, 1277495908, -1571266382, 1067726093, 965594322, -259793437, -1041672781, -263755785, 1395836310, -1216214253, -1227626181, -1822858494, -676317568,
            -1480496491, -1459334180, 1607966118, -21329815, 1051547485, -713978658, -502247005, -1049359999, 999652282, -1628926775, -919405702, 133887639, 704926891, 516102896, 1286922376, -1844090231, 94344959, -367517081, 181926448, 909181320,
            472682126, 1371121845, -1242114031, 319138229, 1678289553, -1977633377, -1000115935, 1856838915, 2047353091, 1272319252, 364804519, -905594883, 132987235, -1695976429, 1197102928, 1237670825, -687201959, 1269966330, 933452697, 443523103,
            657815888, -2136931029, 829537085, 152203984, -1682926236, -1982057333, 1162761485, -185394109, -2030795381, 1711140537, 2117621740, -930829900, -1818741655, -22361023, 479311211, -538266718, 718167575, -1121465372, -850014539, -1096041398,
            1432392414, 1722109148, 167856817, 2009501674, 2136705119, -492219883, -1818530760, -300226021, -742024908, 17252678, 401914632, -1697940811, -1624605087, 408629863, 113199869, -1612878862, 1190091436, 839410276, -190466444, -2065455104,
            -484789192, -1125828337, -780683759, 2145787642, -2044710173, 365230594, -325974541, 1861674492, -945564759, 251659192, 345958791, -910366749, -1254457300, 844857559, 273065607, -1132137543, -62765211, -1194418553, 1150216750, -226525609,
            -334157206, 260270098, 540425942, -1500110301, 2038827751, -260709271, -1462334644, 2090868509, 122762251, -1476749656, 185635617, -1940639476, -17909105, -199417929, -946655834, 531169039, -2056970922, 1349471946, 2025309982, 1064627058,
            2035787553, -459549983, -1581748912, 302019779, -1920166364, 994879412, -1979644682, 103509641, -926912429, -1938586853, 682600203, -1709548480, -1312355874, 1144427563, -1296963750, -551257137, 633118705, 1726842468, -1041602171, 184094107,
            -1449043942, 798009606, 291880940, -1208097464, 958286689, 148837060, 1123948812, 1503308446, -363631804, -570516291, 1815082423, 364141692, -796106745, -395655536, -1891681370, 956026430, -2033344299, -1144276699, -1152998297, -489477255,
            451687704, 318647394, -774935895, -520475716, 1188588198, -24548011, -31837285, 1500670134, 2061210277, 798591730, -769746668, -1810826174, -1868367112, 231366580, 2084933396, -1926754260, -1136389691, -1331497245, -744450013, 213471160,
            -469640342, 900917986, -1937786677, 9506228, 2044947133, -364087137, -109289205, -466853875, 1250855950, -183103885, 2076178063, 18268805, 2118671914, 622503246, 111114386, 1036922033, 1425820580, 728964095, -860772476, 1322028187,
            2078371575, 115389297, -1841998756, -1707931068, 216137124, -24832501, 931834415, -469164981, -596884928, 951763870, 51095020, 1556797739, -715354138, 453153372, 986171256, -248629907, 2003135024, 170953604, -1593962946, 1623086440,
            668853057, 1323376368, -1108119659, -307193283, -649991598, 8599227, 1424418192, -1847925559, 321369185, -1453907825, -938223275, -1109830521, 1494617953, 1042429326, -2048577368, -1752915582, -1761760737, -2069913853, -855515172, -319667594,
            955113806, 1690266979, 1994020564, -1531380411, 85621668, -1543983552, -1919270224, -1089796527, -1702153342, -2004677629, 1473930836, -1779973089, -1523960470, 1532031697, -481907715, 210577055, 462122549, -772101337, -47906451, -298473305,
            -225902843, 45762680, -327998399, -741537900, -692201635, -68675333, 2026030861, 136667080, 492628362, -852445949, -6873745, -1629191832, -418187977, -2099283502, 260668771, 1412861658, 2135401598, 1403268771, 1189187893, 1640397101,
            340553614, -1120148737, -1058193526, -1057417234, 2052194801, 995597171, 1296416812, 893951195, -332636998, -615703387, -1567030033, 213088676, -1670814899, 955392919, 1501709199, -958156561, 720557035, 1964447608, -1005816852, -1662423515,
            -1236458829, -1925300014, 858856692, -588511135, -610413075, -2055118873, 900228302, 609116123, 1345741411, -736812959, 2092540328, 169698364, -1113991444, -173832048, 559217676, -1072683983, -1736704057, -403691414, 457860556, 1657924795,
            -1360555415, 1115829324, -1117436056, 942635969, 1166960395, 2041126674, -1033074230, -1470352554, 1501287242, 1974802860, -1089005053, -1516320956, 541163561, -184112022, 1552987236, 589677744, 763773243, -1651705480, -1046928681, -1181510300,
            1868414813, 1284267201, 1113877868, -1419322458, -643879870, -1381909035, 116943368, 208954141, -1253956964, -344559165, -1079792516, 218749495, 1182539141, 1993344226, -1681621514, -1196630081, 819059078, -2086343021, -240299109, -219387417,
            371948967, -453514375, 1836356825, -778611151, 1650821407, -1659918277, 1169491460, 1618891346, -127129169, -2134250737, 120535998, -1590246866, -1838361682, -2033452521, -19695142, -1017103152, 284568795, -587704210, -1043630938, -263973141,
            -188616465, -1942999389, 1911140637, -1826012396, -311499813, 35002705, 534026864, -1679077103, 1197942487, -1682848341, 476642799, 571957446, 398198202, 481204887, 676252613, 1824129052, -168387784, -72763984, 2145150557, 346650356,
            -265451542, 277069033, 403735037, -1279596716, 437310904, 780419226, -1427510443, 2019211756, -1744995370, -166638729, 649487610, -1894104515, 62699746, -1690431756, -929785466, -860422411, -1744721271, 670599299, 1037951395, -589686371,
            -2114290721, 618225984, 60803831, 1238806298, -498655057, -1451049529, -289244330, -1969173901, -1370836215, 174542673, -1201987394, -383409478, -1574242683, -1274836414, 1494513000, -314297414, 265794288, -1777063974, -744523855, 794802284,
            1033146523, 1867265761, 619430714, 1330750101, 725903169, 89630583, 2013271823, -395269537, 844641821, -2131350960, 104597129, -1533578580, 1556528216, -210649582, -997166890, 1014485068, -644561502, -2049664350, -1661445818, 1861599339,
            536055564, -213085949, 2006107167, -2000518731, -1643870524, 1914238795, -1455020167, 902311322, -81254789, 1940649333, -1080461860, 1952778324, 470836634, 720482934, 1832340989, -97635450, 173818521, 1219983056, 430672057, -1521791250,
            696359070, 998998666, -834177311, -1833161843, 1801698503, -1758532110, 187862107, -559061648, 2045213771, 1472044839, -2014287274, -2061094220, 201318470, -198072900, 1081486767, -1382706311, -1829021368, 331280175, -1704532248, -1130796781,
            -899277770, 1236536854, 373565779, -285376871, 802415770, -273201744, 355077244, 1744983310, 814591008, 310640262, -1330900426, 1882702994, -1324678865, 57591598, -498943042, -103880987, -507928415, -1136702895, 2129343759, 188525294,
            1031393066, -1256078676, 1509797067, -279477057, 1615422360, 231807922, -288830547, -2147175072, -1751078069, 1299793877, 1306641492, 801304463, -1989020595, 1810880519, -2011856844, 1443455130, 571161716, 296982715, -1364214383, -1758971852,
            2103679651, -193958223, 1716625576, -510732106, -1807894351, 989132034, -236896324, -522754317, -1632121606, -365883821, -780495051, 1381521803, 1375687907, 1414634408, -57245349, 761667417, -1093533547, -979344339, 1399217611, 1036556938,
            1385392791, -1380382503, 929135868, 275486038, 1040397239, 1936870517, -1757763803, -1189716707, 1628122630, 1421276954, -505402005, -1006765384, -1636458199, 1300697136, -1656871873, 1816145702, -1704756369, -1496357331, 2104458013, 1050139096,
            1896325289, 305958990, 381269018, 173839015, 1057864650, 411016761, 1268308634, 1999538859, 342414863, -1309970499, -784437514, -758724850, -885411677, 711344543, 2046641517, -201306517, 806505666, 1366318720, -354748563, 1826847695,
            930861907, -80188407, 1973316992, 2064318704, -307767032, 2080152496, 1881979475, -668758686, -1413047385, -775638494, -1571730003, 1308749249, -768037113, 1439316874, 212592739, 1644638522, 1620596304, 940334094, -2060375357, -1399683450,
            -1778947925, 992464194, -2067431514, -1161438457, 1426125693, -319624062, 1300552661, -4467025, 295984581, 2146008805, 1458146851, 482674266, -888564471, 283169300, -1852459566, 92169206, -851521267, -1661475034, 1345853810, -1634052082,
            1652628408, -1000016072, 1576130129, -1367349347, 535720363, -1622563359, 784743196, 1111928581, 701695480, -1045058133, -1238393313, -1727205902, -421742575, -845126425, -1215316526, 1107881333, -40348459, 493905308, -2114841509, -1621395581,
            -694195036, 663054664, 649718100, -1434532677, 641802478, -268059853, -1530381132, -1409822000, 1326356988, -1500340012, 90492902, -671958648, 978282631, -30045908, 582527677, 276660113, -1067694267, 1325416467, 1375168785, 270305114,
            -692484654, 1694518673, 575863240, -1858719874, -838323906, -1741157976, 1883042444, -1443903501, 506947807, -1543243415, -904084036, 1249736242, 2026054175, -1480474858, 1409746192, -462813251, -845570500, 36601363, 720264660, -745814668,
            -372333806, 1680117082, -839944160, -463445909, 766539239, 1625348726, -1218279922, 128729238, -872013273, 411397154, -2114789582, -131441681, 1952536989, -1301023146, 250156405, 1079817167, 1774498913, 1986015854, 367786411, -589253920,
            183300001, 556374134, 1655619296, -1509671162, -166019956, -744449554, 971183496, -1729965553, 587840929, 922023583, 985615976, 1247586204, 591431527, 1269623953, 1981816650, -610482172, -143454591, 32022283, -574817714, 1900722232,
            -1611541375, 884968913, -996662945, 475754085, 219865598, -1144449135, 779744618, 1607360316, -882262273, -770218219, 1960744202, -582845867, -2086614229, -1449457030, -1450807682, -234977371, 1767736674, -1325654154, 1595119682, 764124674,
            514950242, 1286515179, 838401318, -1306288543, 559358679, 44226282, 1538246417, 1618136649, 1979508750, 1640776819, -84822798, 2004925373, -445967203, -1644944750, 1465986024, -1845975579, 2038822520, 1222995390, -830637478, 822454055,
            -975698535, -1872651246, 1784409780, 1999870711, 1095750675, 640721727, 2116124466, 1344031034, -2013538438, 1163047153, -1838535095, 1668604172, -273017646, -1264249562, 370110024, -610652636, 517026247, 140016964, 466565283, 1839192085,
            -1465890347, -372316526, 1233938551, 1133258986, -1236079613, 1546210196, 1839803318, -1816557892, -436801375, 1664681652, -165517481, -170809068, 1005312864, -377848843, -1937093096, 1577556702, -904589538, -561368852, -1132789718, 442777134,
            -1849490388, 156046856, 1536330583, -2108424312, -765453954, 1398512526, -207150281, -1751394432, 949763576, 1187737154, -813585657, -1455884293, 2098964342, -717303220, 565278753, -1121701967, 1994647430, 1572218866, -700762876, -578979061,
            105716078, -255513611, -787255984, -488958969, 1054347452, 369961025, -573843725, -1959214337, -219397859, -517163039, 1377475686, 2109716165, 1187602573, 1552926717, 240312269, -1358623410, -777499154, -1332742915, 1443168500, -556058161,
            630566629, 1248814809, -1057963121, -2117778973, 171040044, -462264322, 1050752344, 1635051493, 956664747, -1380707426, 232301116, -1527338774, 1574597794, -748936335, -1393408778, 1277635015, 1395382494, 1080253069, -937833989, -1543728342,
            1193601972, 698724019, 1099132596, -2056706116, -1743182794, 1676391746, 429316439, -1630034043, 275774692, 1048101748, 727031053, 299224567, 1029228680, -613830634, 1655760990, 1801786507, 582833031, 584744416, -456467453, -2013653742
    };

    private static final int[] RAND_GROUP_4 = {
            -310449453, 32477088, 1761206350, 2000225258, 428719155, 1518614215, -291236040, 1091745156, 274754848, 443399364, 1803149439, 105877446, -688443627, 1068774225, 1743302029, 825761828, -504356913, 26545818, -539851721, -1768330055,
            -1552547071, 923515328, -768842521, -298913897, -1887418504, 566473284, -1283662721, -656726506, -1308617111, -1627140978, -1607360966, 1758341055, 574529524, -2081915296, -550155521, -200001204, -1400021864, -225477088, -1184207397, -123310419,
            82894996, 1841243141, 365315162, -1400574634, -607116151, 180006192, 839242131, -1392209483, 636880506, -1792948160, 1046720371, 1074578765, -852183235, -425003483, 705342683, -1160085394, 1614756741, -1252984533, -1202955782, -644465165,
            -1349102855, -2091990740, -395007574, 258632005, -233543751, -250875771, 1188055099, -1604585515, -1573012919, 1529872202, -272113257, 616435492, -105618260, -166799675, -1303061233, -1101613602, 1340122955, -253858024, 189101024, 836837233,
            1298626992, 679921645, -89610179, -407552968, 356691644, -2010206225, 891308513, 247173938, -703141418, 1751735207, -128154629, 975048865, -1626922481, -1387930268, -468264964, -688458480, -363380896, -1748767405, -1990341340, -134739165,
            -1456617975, -1931682920, -1444144691, 2112740639, -1526958878, 791677224, -692696710, 976170432, -1485535020, 243366286, 1810048415, 881755676, 688662516, -1526990152, -52299823, -1277196947, -1340713109, 31448763, -644281257, 1175261494,
            554170644, 739008253, -385312, -183659528, 2057065767, -14977395, 2121958606, -1213563586, -1614620529, 1510830079, -1588733879, -1303219249, -1019522218, -198383340, 1391888070, 1662788964, -606102651, -1306346175, -79760723, -1682627597,
            -494510778, 1772577983, 163219347, -1265597081, 1743207069, 1784517505, -491613257, 666565412, 1304360567, 93410518, -1406347068, 1197441224, -867616683, -913659312, 380461062, -1972830860, 1591336256, 1024778464, 1969512238, 1942983457,
            -97082192, 1461183254, 1992166448, 759532650, -295263864, -1721485322, -1643644343, 497227828, 1871934854, -1558265740, 926368245, -184319036, 1482171866, -1487215448, -624459451, 1243798549, 1067554279, -311268413, -1015368818, -1471179251,
            334087627, 1121257812, -721628217, -1965213235, 289432757, -1927454299, 351573958, 1702819629, -1091262126, 117205941, -1634570693, -759929598, 835158425, -1547526848, 934267504, 1093141873, -1119968609, 1476370399, -1342471571, 1173109233,
            1538559303, -1428923449, 739116184, -1449045649, -842411433, 224670174, 246905345, -410412689, 695737635, 2082868408, -1199743577, -1816091008, 238121844, 1119137144, -788790096, 982156428, -544810117, 1988398318, 1801099614, 1377900286,
            -1805218877, 1816521542, -394739538, -532327047, -1505020402, -180440154, 521064286, 1511636359, 735563507, -1720708438, 1140617749, 1988365203, -610106908, -1228422454, 594894031, -1063308987, -510692612, 1272132258, -1194672040, -1025151678,
            1979386470, 507282493, 1323231068, 671792239, -1152612974, -348833171, 1290745891, -1253992585, -971310301, 465096210, 1303298557, -2010584749, 1664318644, -146922948, -152825306, 1951979426, 1073630379, 552268064, -2106500515, -1686807339,
            102056879, -789109985, -939189232, 510030087, -2068158206, -771648499, -848194459, 1160886877, 2111329456, 787037388, 2076886008, -64568221, -429871944, 1866821148, 653187358, 1986349481, 1896507505, 1715336211, -1321724578, 398869481,
            5429343, 520351868, -2016303687, 1698362512, 1843893661, 1197792589, -368950227, 1331117265, -1581488254, -1985243205, -1567590334, 604333128, 2128392848, 1751278460, -1703461004, -532965312, 1706681184, -1130893981, -1569630751, 1546859707,
            1014961379, 873751097, -1834390091, 1715902553, 2112794203, -1293882941, 1386442714, -1160807416, 40309710, 2134605950, 497140497, -1574861452, 268595630, 432678622, -70836674, 2113145638, 843722688, 1818350240, -889785403, -1069746089,
            -177158587, -1067291356, -1210394203, -823909099, 1493999501, 239920831, -2075997452, 619384168, -706069507, -1778145867, 924279895, 1531649227, -1705818175, 946704606, 892486059, -550662602, -1765686192, -1510598245, 782377206, 2035616052,
            1438710042, -292427896, 1607128880, -1970750841, 1567177188, 1819394242, 429554191, -1462928734, -297348985, -1588197214, 1380808984, 2046894758, 1837268141, -2028462499, 554961427, -1070381739, 1605372908, -1326533061, -1890404438, -1274066326,
            192950756, -296418658, -1597908748, 594746403, -486988604, 97063532, -928247825, 946577206, -1128230749, -146991662, 1268758050, 1872720908, -1457329730, -1769240007, 1048745988, 1035549171, 1876764028, -1127271442, -565693577, -939697056,
            1674021375, -1522273985, -668624382, 776421260, -2144645014, 1942367290, -2096519370, 838592251, 824753362, 380181460, -1614795443, -1082892883, -65022657, -1265342280, -831398791, -1757120724, -1498864178, 895047128, 1992555159, 811506122,
            1490837515, -1213594066, 228366393, -1949532626, -1918552995, 397676496, -1699374611, -445209404, -1267978259, 510258857, 845379430, -1321858146, 1223270382, -562734870, -729659922, 1761379792, 103032021, 1113252198, 1415754377, 1388206489,
            -958568877, 693839608, -778051689, -1153666596, 2051023746, 1610829194, -1795034083, 1464401254, 39097829, 341316395, 216610376, 299589389, -784136389, -1274843341, 1782741985, 971894546, 406600776, 1896903565, 228836782, 737670631,
            470018763, 302983145, 1697286661, -381224011, 17010072, -514284170, 970982415, -1071609122, -991000886, -296451435, -1285499068, -1536546763, 1297248583, 1996754602, -217700702, 93591529, -930910945, -1574216169, -1034019647, -1236380796,
            -1535285627, 1962128997, 1923922785, -703442394, 1186059822, -2114491612, 18045956, -304885516, 171485935, 2082119444, 68030869, 1526564785, 344392310, -473461792, -351038669, -1897173307, 524604543, -791706739, -1399125858, 2046308272,
            1229009695, 455818381, 890331697, 1280024634, -1095267559, 1521067369, 929054906, -399225233, -17789210, 1910701262, -221478704, 971233375, -80842571, 118522693, -1256967501, -614490144, -603488982, 602116548, -2081777299, 802600422,
            1311534053, -2011949584, 2068781449, -1981115046, -695356338, 1356984293, 1394374672, 441810353, -1901446979, 1044474520, 1795884096, 546127444, 1988107601, -107642994, -1363501773, -1351120219, -944425163, -1086623287, 1051127767, -1841116329,
            865161536, -932500498, 2055185275, -1088008301, 1720676863, -1163521216, -1788480688, 211782036, 1476502438, -1387830577, -2128103480, 172102022, -231654371, 1012536332, 1560999438, 760125853, -362134176, 488500952, 1725125678, 671729244,
            1599162377, -1702795358, -1024994248, -495207888, -978307468, -375510901, -2124890652, -41594664, -1869827820, -636834453, -1571557815, -777384374, 726685929, -1173610072, 494300873, -677289761, -397933175, 561500037, 160250565, -511470439,
            -1937362387, 534048230, -51260322, -1606663355, 1139536224, 905734802, 1060257807, 1332689124, -1089931637, -1621060122, -1077894600, 1584918456, -627451132, -521855744, 2008148828, -1718616287, 1539308894, -1587892021, -282084704, 17656560,
            -1991797523, 844514772, -1002672698, 375192971, 443186100, -1036792454, -53698209, -992958449, -662245870, -709532802, 1083015565, 920618244, -870283914, 46738162, 833714336, 1879020644, 1116780122, 1094806691, 889223484, 1797445339,
            -902153859, -5006803, -1576938425, 192202783, 525644029, -1778847752, 199423412, -1290327841, -692519410, 281485319, 258870483, -998777156, 312707070, 260351101, 511289715, -1590787988, 149778678, 1759179941, -1421161415, -1450004903,
            1143931153, -384689789, -1759955729, -1427341181, -467409791, -1634931655, 1510132469, -1944531143, -165475457, -601407413, 339753300, 1138456223, 865203847, 364480987, -1287136346, -1288547306, -884052760, 635750658, 558117061, -932230226,
            874441185, 702307668, 1408675555, 1848615378, 1154608618, -1060088648, 17709881, -1682076755, 192626287, 2147379362, 1193732662, 1988725596, -51156175, -535691651, 1683509437, -2090716612, 1043090708, 1108078867, -449243970, 883187162,
            -297286150, 808773583, -524102316, -1124222230, -1337930745, -107688482, 862177851, 1591905199, 1442154456, 677183280, 520649, 1225217575, -531896598, -631892175, 104162681, 1581721362, -550833646, 2027550986, -852189427, 1432658716,
            -1650976135, 560826594, -434801857, -902105922, -1225854046, -571229684, 1542668713, -1189137403, 339790726, 221236307, -1207902763, -1042035690, 690249900, -359435878, 1908366904, -1859493269, -1361396368, -1048220788, 579911837, 1571113998,
            -1069617994, -1234954941, -917039086, -1319878134, 726931957, 1815996875, 1967598288, 659350031, -582962243, 685774082, 62166393, -1280285352, 1590032078, 1936447366, 1851874196, -1512086718, -255352283, -1893072437, -1759968965, 2044752381,
            -1745932026, -1368785497, 2084517962, 240789561, 2076094705, 47056953, -504773852, 746407718, 392471307, 7476221, 663062034, -985656977, 601101008, -1449620718, -59245813, -1794951441, -232021025, 1204971715, -108335105, -574532985,
            -556251996, -1544163589, -136958595, -1182325936, 1735948414, -509462635, 1761362998, -588662941, -1361925080, 1662930136, 641222113, -1965683333, 1332206276, 350830891, -542617070, -1097064463, -596662409, 368933991, -132605186, 320378032,
            1435601205, -813095293, 1238078266, 692009136, 176244279, -342504710, -267024606, 782625729, 1357754310, -853090464, -1541536972, 1398097290, -850542798, 1463478481, 390192206, 1590828059, -484486144, -875225238, -1994652163, 1013643280,
            -22319944, 2050119605, -166685700, 2045305142, -486406170, 698580354, 1884042919, 1013162014, -410714168, -284625728, 803605720, -458483694, 394079203, -2136948104, 1078736062, 2026563746, -2027450800, 814248668, -44851337, 943561884,
            -1710720599, -2089717912, -168214433, -1794255225, -773412520, -143082072, -2023254433, 1492905478, -378912688, -994632900, -1754462037, 1733115139, -1838242176, 1320803575, 970693163, -394231142, -343098955, -1931793783, 245645475, 506785823,
            570087324, -598536510, 1616485107, 1568992981, 1252043152, 1691409142, -1970856172, 1104961882, -148824451, -1718372874, 768878779, -2140882059, 768314298, 1265440325, -1710158843, -1997795005, -1755649821, 1806095498, -131758025, 1682132637,
            751649088, 1583051050, -664994195, 1157944429, -971514071, -1107319922, 322960748, 1175774376, 579311807, -1730612856, 1065877591, 1201848883, -1971606365, -542365834, -766291811, 1824026486, -998771283, 1470086620, -1074540287, 1806038031,
            -621124241, -1609013281, -797260397, 560572780, 1380245388, -494439170, 900480495, 791781754, 1191128666, -1525156104, 734948410, 258936418, -2023669193, -1473389148, -1224716136, 1187694115, 61173471, 1594530438, -140888854, -360028980,
            123198005, -1669694503, 209962134, -314981321, -1767068215, 468972818, -988290945, -127220410, -845154053, -1158249508, -617939831, 1755450592, -1756969095, -882766985, 1630802064, 1005292882, -370899636, -1743270631, 2132303749, 582677794,
            357070734, -1216734246, 323829660, 220613432, -169764512, 1411590771, -1801486762, 1292876488, 849242391, 867386152, -788809359, 1832120660, 1322168993, 1740093469, 1827746467, 298456633, 931085400, -752578132, 1796008898, -1544564781,
            -1656880593, 2057522839, -637881686, -778337515, 1997975168, -798095137, 1979253182, 974017035, -2014833557, 1290974483, -1409094345, 228337479, 434526989, 263823884, 2068556806, 181489214, -352937832, 440308336, -1351597709, 1222272392,
            -2007433226, 320738316, -1553533579, -204185898, -1497737802, -1738760614, 1135386071, 275182629, -262188197, 787708848, -315622279, -1262630167, -199106534, -523270134, 57245984, 432947703, -378287452, 439269014, -1503729066, 1044674423,
            -2009953581, -2030623829, 2082818334, 2085586196, 1363091100, -902696206, -1025443901, 579355259, 1006838208, -1880427092, 1333327772, -1290714668, -654053143, -1385781398, 1795403233, 878789219, 303263938, 1387816982, 694969408, 1575642514,
            -1134998963, 430352005, 296293824, -546725469, -1929399198, 214193156, 200401551, -775587463, -1521335992, 442779668, -630001989, 462138598, 1417359874, -699464181, -2131132941, -303456334, 1700254628, 399117146, 1486140056, 533316693
    };

    @Test
    public void blend_Alpha0Color1_Match() throws Throwable {
        int expected = blendExpected(
                0b00000000001010000111010110011101,
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        int actual = blendActual(
                0b00000000001010000111010110011101,
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Alpha0Color2_Match() throws Throwable {
        int expected = blendExpected(
                RAND_GROUP_1[0],
                0b00000000001010000111010110011101,
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        int actual = blendActual(
                RAND_GROUP_1[0],
                0b00000000001010000111010110011101,
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Alpha0Color3_Match() throws Throwable {
        int expected = blendExpected(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                0b00000000001010000111010110011101,
                RAND_GROUP_4[0]
        );

        int actual = blendActual(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                0b00000000001010000111010110011101,
                RAND_GROUP_4[0]
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Alpha0Color4_Match() throws Throwable {
        int expected = blendExpected(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                0b00000000001010000111010110011101
        );

        int actual = blendActual(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                0b00000000001010000111010110011101
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Red0Color1_Match() throws Throwable {
        int expected = blendExpected(
                0b00101000000000000111010110011101,
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        int actual = blendActual(
                0b00101000000000000111010110011101,
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Red0Color2_Match() throws Throwable {
        int expected = blendExpected(
                RAND_GROUP_1[0],
                0b00101000000000000111010110011101,
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        int actual = blendActual(
                RAND_GROUP_1[0],
                0b00101000000000000111010110011101,
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Red0Color3_Match() throws Throwable {
        int expected = blendExpected(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                0b00101000000000000111010110011101,
                RAND_GROUP_4[0]
        );

        int actual = blendActual(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                0b00101000000000000111010110011101,
                RAND_GROUP_4[0]
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Red0Color4_Match() throws Throwable {
        int expected = blendExpected(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                0b00101000000000000111010110011101
        );

        int actual = blendActual(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                0b00101000000000000111010110011101
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Green0Color1_Match() throws Throwable {
        int expected = blendExpected(
                0b00101000011101010000000010011101,
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        int actual = blendActual(
                0b00101000011101010000000010011101,
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Green0Color2_Match() throws Throwable {
        int expected = blendExpected(
                RAND_GROUP_1[0],
                0b00101000011101010000000010011101,
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        int actual = blendActual(
                RAND_GROUP_1[0],
                0b00101000011101010000000010011101,
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Green0Color3_Match() throws Throwable {
        int expected = blendExpected(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                0b00101000011101010000000010011101,
                RAND_GROUP_4[0]
        );

        int actual = blendActual(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                0b00101000011101010000000010011101,
                RAND_GROUP_4[0]
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Green0Color4_Match() throws Throwable {
        int expected = blendExpected(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                0b00101000011101010000000010011101
        );

        int actual = blendActual(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                0b00101000011101010000000010011101
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Color1IsAll0_Match() throws Throwable {
        int expected = blendExpected(
                0,
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        int actual = blendActual(
                0,
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Color2IsAll0_Match() throws Throwable {
        int expected = blendExpected(
                RAND_GROUP_1[0],
                0,
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        int actual = blendActual(
                RAND_GROUP_1[0],
                0,
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Color3IsAll0_Match() throws Throwable {
        int expected = blendExpected(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                0,
                RAND_GROUP_4[0]
        );

        int actual = blendActual(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                0,
                RAND_GROUP_4[0]
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Color4IsAll0_Match() throws Throwable {
        int expected = blendExpected(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                0
        );

        int actual = blendActual(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                0
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Color1IsAll1_Match() throws Throwable {
        int expected = blendExpected(
                0b11111111111111111111111111111111,
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        int actual = blendActual(
                0b11111111111111111111111111111111,
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Color2IsAll1_Match() throws Throwable {
        int expected = blendExpected(
                RAND_GROUP_1[0],
                0b11111111111111111111111111111111,
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        int actual = blendActual(
                RAND_GROUP_1[0],
                0b11111111111111111111111111111111,
                RAND_GROUP_3[0],
                RAND_GROUP_4[0]
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Color3IsAll1_Match() throws Throwable {
        int expected = blendExpected(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                0b11111111111111111111111111111111,
                RAND_GROUP_4[0]
        );

        int actual = blendActual(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                0b11111111111111111111111111111111,
                RAND_GROUP_4[0]
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Color4IsAll1_Match() throws Throwable {
        int expected = blendExpected(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                0b11111111111111111111111111111111
        );

        int actual = blendActual(
                RAND_GROUP_1[0],
                RAND_GROUP_2[0],
                RAND_GROUP_3[0],
                0b11111111111111111111111111111111
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_All0_Match() throws Throwable {
        int expected = blendExpected(
                0,
                0,
                0,
                0
        );

        int actual = blendActual(
                0,
                0,
                0,
                0
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_All1_Match() throws Throwable {
        int expected = blendExpected(
                0b11111111111111111111111111111111,
                0b11111111111111111111111111111111,
                0b11111111111111111111111111111111,
                0b11111111111111111111111111111111
        );

        int actual = blendActual(
                0b11111111111111111111111111111111,
                0b11111111111111111111111111111111,
                0b11111111111111111111111111111111,
                0b11111111111111111111111111111111
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_AllMax_Match() throws Throwable {
        int expected = blendExpected(
                Integer.MAX_VALUE,
                Integer.MAX_VALUE,
                Integer.MAX_VALUE,
                Integer.MAX_VALUE
        );

        int actual = blendActual(
                Integer.MAX_VALUE,
                Integer.MAX_VALUE,
                Integer.MAX_VALUE,
                Integer.MAX_VALUE
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_AllMin_Match() throws Throwable {
        int expected = blendExpected(
                Integer.MIN_VALUE,
                Integer.MIN_VALUE,
                Integer.MIN_VALUE,
                Integer.MIN_VALUE
        );

        int actual = blendActual(
                Integer.MIN_VALUE,
                Integer.MIN_VALUE,
                Integer.MIN_VALUE,
                Integer.MIN_VALUE
        );

        assertColorsEqual(expected, actual);
    }

    @Test
    public void blend_Random1000_AllMatch() throws Throwable {
        for (int index = 0; index < RAND_GROUP_1.length; index++) {
            int expected = blendExpected(
                    RAND_GROUP_1[index],
                    RAND_GROUP_2[index],
                    RAND_GROUP_3[index],
                    RAND_GROUP_4[index]
            );

            int actual = blendActual(
                    RAND_GROUP_1[index],
                    RAND_GROUP_2[index],
                    RAND_GROUP_3[index],
                    RAND_GROUP_4[index]
            );

            assertColorsEqual(expected, actual);
        }
    }

    private static int blendExpected(int color1, int color2, int color3, int color4) throws Throwable {
        return (int) EXPECTED_HANDLE.invokeExact(
                color1,
                color2,
                color3,
                color4,
                true
        );
    }

    private static int blendActual(int color1, int color2, int color3, int color4) {
        int actual = ColorBlender.blend(color1, color2, color3, color4);

        /* Minecraft's blend function removes nearly transparent areas in cutout mode, but this seems
           unnecessary for MoreMcmeta's function, so this needs to be adjusted in tests where it is
           relevant. */
        if (actual >>> 24 < 96) {
            actual &= 0b00000000111111111111111111111111;
        }

        return actual;
    }

    private static void assertColorsEqual(int expected, int actual) {
        for (int component = 0; component < 4; component++) {
            int expectedComponent = (expected >>> (component * 4)) & 255;
            int actualComponent = (actual >>> (component * 4)) & 255;

            /* MoreMcmeta uses more precise numbers than Minecraft's implementation,
               so allow for +/- 1 diff for each component. This difference isn't visually
               meaningful. */
            int diff = Math.abs(expectedComponent - actualComponent);
            assertTrue(diff <= 1);

        }
    }

}